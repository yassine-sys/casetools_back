<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:pe="http://primefaces.org/ui/extensions"
	template="/index.xhtml" xmlns:hf="http://highfaces.org">

	<ui:define name="PageContent">
		<style type="text/css">
.ui-growl {
	position: absolute;
	top: 10%;
	left: 77%;
	z-index: 9999;
}
</style>

		<!-- inporting resource -->
		<script src="https://code.highcharts.com/modules/exporting.js"></script>
		<!-- optional -->
		<script src="https://code.highcharts.com/modules/offline-exporting.js"></script>
		<script src="https://code.highcharts.com/modules/export-data.js"></script>
		<!-- end of inporting resource -->


		<script type="text/javascript">
			function myconfig() {
				this.chart.style = {
					fontFamily : 'Times New Roman'
				}, this.chart.plotBackgroundColor = {
					linearGradient : [ 0, 0, 500, 500 ],
					stops : [ [ 0, 'rgb(255, 255, 255)' ],
							[ 1, 'rgb(200, 200, 255)' ] ]
				}, this.tooltip = {
					valueDecimals : 0

				}, this.credits = {
					enabled : false
				}, this.lang = {
					thousandsSep : '.'
				}

			}
			$(function() {
				Highcharts.setOptions({
					lang : {
						thousandsSep : '.'
					}
				});
			});
		</script>
		<h:form id="form1">
			<p:panel>
				<p:dataTable styleClass="myTable" id="singleDT"
					value="#{alerteBean.revenueList}" var="rev">
					<f:facet name="header">
						<p:outputLabel value="Revenue Stream"></p:outputLabel>
					</f:facet>

					<p:column headerText="Revenue Stream">
						<h:outputText value="#{rev.revenuestream}" />
					</p:column>
					<p:column style="width:100px;text-align: center">
						<p:commandButton process="singleDT"
							icon="ui-icon-arrowrefresh-1-w"
							style="color:#fff; background: rgb(28, 184, 65) ; border-color: #d73925 ;"
							title="Modifier" update=":form1:modifPos" value="update"
							styleClass="btn btn-success" oncomplete="PF('dlg4').show();">
							<f:setPropertyActionListener value="#{rev}"
								target="#{alerteBean.rev1}" />
						</p:commandButton>
					</p:column>
					<p:column style="width:100px;text-align: center">
						<p:commandButton process="singleDT" update="singleDT"
							icon="ui-icon-trash" title="Supprimer" value="delete"
							styleClass="btn btn-danger" action="#{alerteBean.delete()}">
							<f:setPropertyActionListener value="#{rev}"
								target="#{alerteBean.rev1}" />
						</p:commandButton>
					</p:column>
					<f:facet name="footer">


						<p:commandButton process="singleDT" icon="ui-icon-plusthick"
							styleClass="btn btn-primary" value="Ajouter"
							oncomplete="PF('dlg3').show()" />


					</f:facet>

				</p:dataTable>
			</p:panel>
			<p:panel>
				<p:dataTable styleClass="myTable" id="singleDT2"
					value="#{alerteBean.domainList}" var="dom">
					<f:facet name="header">
						<p:outputLabel value="Domain Control"></p:outputLabel>
					</f:facet>

					<p:column headerText="Domain Control">
						<h:outputText value="#{dom.domain}" />
					</p:column>
					<p:column style="width:100px;text-align: center">
						<p:commandButton process="singleDT2"
							icon="ui-icon-arrowrefresh-1-w"
							style="color:#fff; background: rgb(28, 184, 65) ; border-color: #d73925 ;"
							title="Modifier" update=":form1:modifPos1" value="update"
							styleClass="btn btn-success" oncomplete="PF('dlg2').show();">
							<f:setPropertyActionListener value="#{dom}"
								target="#{alerteBean.dom1}" />
						</p:commandButton>
					</p:column>
					<p:column style="width:100px;text-align: center">
						<p:commandButton process="singleDT2" update="singleDT2"
							icon="ui-icon-trash" title="Supprimer" value="delete"
							styleClass="btn btn-danger" action="#{alerteBean.deleteDom()}">
							<f:setPropertyActionListener value="#{dom}"
								target="#{alerteBean.dom1}" />
						</p:commandButton>
					</p:column>
					<f:facet name="footer">


						<p:commandButton process="singleDT2" icon="ui-icon-plusthick"
							styleClass="btn btn-primary" value="Ajouter"
							oncomplete="PF('dlg1').show()" />


					</f:facet>

				</p:dataTable>
			</p:panel>
			<p:panel>
				<p:dataTable styleClass="myTable" id="singleDT3"
					value="#{alerteBean.rarules}" var="rule">
					<f:facet name="header">
						<p:outputLabel value="RARULES"></p:outputLabel>
					</f:facet>

					<p:column headerText="Description">
						<h:outputText value="#{rule.description}" />
					</p:column>
					<p:column headerText="Nom">
						<h:outputText value="#{rule.nom}" />
					</p:column>
					<p:column headerText="Utilisateur">
						<h:outputText value="#{rule.nomUtilisateur}" />
					</p:column>
					<p:column headerText="Type">
						<h:outputText value="#{rule.type}" />
					</p:column>
					<p:column style="width:100px;text-align: center">
						<p:commandButton process="singleDT3"
							icon="ui-icon-arrowrefresh-1-w"
							style="color:#fff; background: rgb(28, 184, 65) ; border-color: #d73925 ;"
							title="Modifier" update=":form1:modifPos3" value="update"
							styleClass="btn btn-success" oncomplete="PF('dlg5').show();">
							<f:setPropertyActionListener value="#{rule}"
								target="#{alerteBean.rule1}" />
						</p:commandButton>
					</p:column>
					<p:column style="width:100px;text-align: center">
						<p:commandButton process="singleDT3" update="singleDT3"
							icon="ui-icon-trash" title="Supprimer" value="delete"
							styleClass="btn btn-danger" action="#{alerteBean.deleteRarule()}">
							<f:setPropertyActionListener value="#{rule}"
								target="#{alerteBean.rule1}" />
						</p:commandButton>
					</p:column>
					<f:facet name="footer">


						<p:commandButton process="singleDT3" icon="ui-icon-plusthick"
							styleClass="btn btn-primary" value="Ajouter"
							oncomplete="PF('dlg6').show()" />


					</f:facet>

				</p:dataTable>
			</p:panel>
			<p:panel>
				<p:dataTable styleClass="myTable" id="singleDT4"
					value="#{alerteBean.params}" var="param">
					<f:facet name="header">
						<p:outputLabel value=" Parametre Rarule"></p:outputLabel>
					</f:facet>

					<p:column headerText="Fonctionl">
						<h:outputText value="#{paramfonction}" />
					</p:column>
					<p:column headerText="Seuil">
						<h:outputText value="#{param.seuil}" />
					</p:column>
					<p:column style="width:100px;text-align: center">
						<p:commandButton process="singleDT4"
							icon="ui-icon-arrowrefresh-1-w"
							style="color:#fff; background: rgb(28, 184, 65) ; border-color: #d73925 ;"
							title="Modifier" update=":form1:modifPos4" value="update"
							styleClass="btn btn-success" oncomplete="PF('dlg8').show();">
							<f:setPropertyActionListener value="#{param}"
								target="#{alerteBean.param1}" />
						</p:commandButton>
					</p:column>
					<p:column style="width:100px;text-align: center">
						<p:commandButton process="singleDT4" update="singleDT4"
							icon="ui-icon-trash" title="Supprimer" value="delete"
							styleClass="btn btn-danger" action="#{alerteBean.deleteParam()}">
							<f:setPropertyActionListener value="#{param}"
								target="#{alerteBean.param1}" />
						</p:commandButton>
					</p:column>
					<f:facet name="footer">


						<p:commandButton process="singleDT4" icon="ui-icon-plusthick"
							styleClass="btn btn-primary" value="Ajouter"
							oncomplete="PF('dlg7').show()" />


					</f:facet>

				</p:dataTable>
			</p:panel>
			<p:panel>
				<p:dataTable styleClass="myTable" id="singleDT5"
					value="#{alerteBean.reports}" var="rep">
					<f:facet name="header">
						<p:outputLabel value="Rapport Rarules"></p:outputLabel>
					</f:facet>

					<p:column headerText="ID Repport">
						<h:outputText value="#{rep.idReport}" />
					</p:column>
					<p:column headerText="ID Rule">
						<h:outputText value="#{rep.idRule}" />
					</p:column>
					<p:column style="width:100px;text-align: center">
						<p:commandButton process="singleDT5"
							icon="ui-icon-arrowrefresh-1-w"
							style="color:#fff; background: rgb(28, 184, 65) ; border-color: #d73925 ;"
							title="Modifier" update=":form1:modifPos5" value="update"
							styleClass="btn btn-success" oncomplete="PF('dlg10').show();">
							<f:setPropertyActionListener value="#{rep}"
								target="#{alerteBean.rep1}" />
						</p:commandButton>
					</p:column>
					<p:column style="width:100px;text-align: center">
						<p:commandButton process="singleDT5" update="singleDT5"
							icon="ui-icon-trash" title="Supprimer" value="delete"
							styleClass="btn btn-danger" action="#{alerteBean.deleteRep()}">
							<f:setPropertyActionListener value="#{rep}"
								target="#{alerteBean.rep1}" />
						</p:commandButton>
					</p:column>
					<f:facet name="footer">


						<p:commandButton process="singleDT5" icon="ui-icon-plusthick"
							styleClass="btn btn-primary" value="Ajouter"
							oncomplete="PF('dlg9').show()" />


					</f:facet>

				</p:dataTable>
			</p:panel>
			<p:panel>
				<p:dataTable styleClass="myTable" id="singleDT6"
					value="#{alerteBean.alertes}" var="alert">
					<f:facet name="header">
						<p:outputLabel value="AlerteRA"></p:outputLabel>
					</f:facet>

					<p:column headerText="date Detection">
						<h:outputText value="#{alert.dateDetection}" />
					</p:column>
					<p:column headerText="date Appel">
						<h:outputText value="#{alert.dateappel}" />
					</p:column>
					<p:column headerText="Etat">
						<h:outputText value="#{alert.etat}" />
					</p:column>
					<p:column headerText="rule">
						<h:outputText value="#{alert.idRule}" />
					</p:column>
					<p:column style="width:100px;text-align: center">
						<p:commandButton process="singleDT6"
							icon="ui-icon-arrowrefresh-1-w"
							style="color:#fff; background: rgb(28, 184, 65) ; border-color: #d73925 ;"
							title="Modifier" update=":form1:modifPos6" value="update"
							styleClass="btn btn-success" oncomplete="PF('dlg12').show();">
							<f:setPropertyActionListener value="#{alert}"
								target="#{alerteBean.alert1}" />
						</p:commandButton>
					</p:column>
					<p:column style="width:100px;text-align: center">
						<p:commandButton process="singleDT6" update="singleDT6"
							icon="ui-icon-trash" title="Supprimer" value="delete"
							styleClass="btn btn-danger" action="#{alerteBean.deleteAlert()}">
							<f:setPropertyActionListener value="#{alert}"
								target="#{alerteBean.alert1}" />
						</p:commandButton>
					</p:column>
					<f:facet name="footer">


						<p:commandButton process="singleDT6" icon="ui-icon-plusthick"
							styleClass="btn btn-primary" value="Ajouter"
							oncomplete="PF('dlg11').show()" />


					</f:facet>

				</p:dataTable>
			</p:panel>
			<p:panel>
				<p:dataTable styleClass="myTable" id="singleDT7"
					value="#{alerteBean.histList}" var="hist">
					<f:facet name="header">
						<p:outputLabel value="Historique Alertes"></p:outputLabel>
					</f:facet>

					<p:column headerText="Date">
						<h:outputText value="#{hist.dateStatut}" />
					</p:column>
					<p:column headerText="Etat">
						<h:outputText value="#{hist.etat}" />
					</p:column>
					<p:column headerText="Utulisateur">
						<h:outputText value="#{hist.nomUtilisateur}" />
					</p:column>
					<p:column style="width:100px;text-align: center">
						<p:commandButton process="singleDT7"
							icon="ui-icon-arrowrefresh-1-w"
							style="color:#fff; background: rgb(28, 184, 65) ; border-color: #d73925 ;"
							title="Modifier" update=":form1:modifPos7" value="update"
							styleClass="btn btn-success" oncomplete="PF('dlg14').show();">
							<f:setPropertyActionListener value="#{hist}"
								target="#{alerteBean.hist1}" />
						</p:commandButton>
					</p:column>
					<p:column style="width:100px;text-align: center">
						<p:commandButton process="singleDT7" update="singleDT7"
							icon="ui-icon-trash" title="Supprimer" value="delete"
							styleClass="btn btn-danger" action="#{alerteBean.deleteHist()}">
							<f:setPropertyActionListener value="#{hist}"
								target="#{alerteBean.hist1}" />
						</p:commandButton>
					</p:column>
					<f:facet name="footer">


						<p:commandButton process="singleDT7" icon="ui-icon-plusthick"
							styleClass="btn btn-primary" value="Ajouter"
							oncomplete="PF('dlg13').show()" />


					</f:facet>

				</p:dataTable>
			</p:panel>

			<p:dialog header="Ajout" widgetVar="dlg3" id="panajoutRev">
				<h:panelGrid columns="2">
					<p:outputLabel value="Revenue stream" />
					<p:inputText value="#{alerteBean.rev.revenuestream}" />

					<p:commandButton value="Valider" styleClass="btn btn-primary"
						update="singleDT,:form1:panajoutRev"
						actionListener="#{alerteBean.ajouter}"
						oncomplete="PF('dlg3').hide()" />
					<p:commandButton value="Annuler" styleClass="btn btn-danger"
						onclick="PF('dlg3').hide()" />
				</h:panelGrid>


			</p:dialog>
			<p:dialog header="Modifier" widgetVar="dlg4" id="panModifRev">
				<p:outputPanel id="modifPos" style="text-align:center;">

					<h:panelGrid columns="2">
						<p:outputLabel value="Revenue stream" />
						<p:inputText value="#{alerteBean.rev1.revenuestream}" />

						<p:commandButton value="Valider" styleClass="btn btn-primary"
							update="singleDT,:form1:panajoutRev"
							actionListener="#{alerteBean.modifier}"
							oncomplete="PF('dlg4').hide()" />
						<p:commandButton value="Annuler" styleClass="btn btn-danger"
							onclick="PF('dlg3').hide()" />
					</h:panelGrid>

				</p:outputPanel>




			</p:dialog>

			<p:dialog header="Ajout" widgetVar="dlg1" id="panajoutDom">
				<h:panelGrid columns="2">
					<p:outputLabel value="Domain Control" />
					<p:inputText value="#{alerteBean.dom.domain}" />

					<p:commandButton value="Valider" styleClass="btn btn-primary"
						update="singleDT2,:form1:panajoutDom"
						actionListener="#{alerteBean.ajouterDom()}"
						oncomplete="PF('dlg1').hide()" />
					<p:commandButton value="Annuler" styleClass="btn btn-danger"
						onclick="PF('dlg1').hide()" />
				</h:panelGrid>


			</p:dialog>
			<p:dialog header="Modifier" widgetVar="dlg2" id="panModifDom">
				<p:outputPanel id="modifPos1" style="text-align:center;">

					<h:panelGrid columns="2">
						<p:outputLabel value="Domain Control" />
						<p:inputText value="#{alerteBean.dom1.domain}" />

						<p:commandButton value="Valider" styleClass="btn btn-primary"
							update="singleDT2,:form1:panajoutDom"
							actionListener="#{alerteBean.modifierDom()}"
							oncomplete="PF('dlg2').hide()" />
						<p:commandButton value="Annuler" styleClass="btn btn-danger"
							onclick="PF('dlg2').hide()" />
					</h:panelGrid>

				</p:outputPanel>
			</p:dialog>
			<p:dialog header="Ajout" widgetVar="dlg6" id="panajoutRule">
				<h:panelGrid columns="2">
					<p:outputLabel value="Description" />
					<p:inputText value="#{alerteBean.rule.description}" />
					<p:outputLabel value="Nom" />
					<p:inputText value="#{alerteBean.rule.nom}" />
					<p:outputLabel value="Utilisateur" />
					<p:inputText value="#{alerteBean.rule.nomUtilisateur}" />
					<p:outputLabel value="Type" />
					<p:inputText value="#{alerteBean.rule.type}" />
					<p:commandButton value="Valider" styleClass="btn btn-primary"
						update="singleDT3,:form1:panajoutRule"
						actionListener="#{alerteBean.ajouterRarule()}"
						oncomplete="PF('dlg6').hide()" />
					<p:commandButton value="Annuler" styleClass="btn btn-danger"
						onclick="PF('dlg6').hide()" />
				</h:panelGrid>


			</p:dialog>
			<p:dialog header="Modifier" widgetVar="dlg5" id="panModifRule">
				<p:outputPanel id="modifPos3" style="text-align:center;">

					<h:panelGrid columns="2">
						<p:outputLabel value="Description" />
						<p:inputText value="#{alerteBean.rule1.description}" />
						<p:outputLabel value="Nom" />
						<p:inputText value="#{alerteBean.rule1.nom}" />
						<p:outputLabel value="Utilisateur" />
						<p:inputText value="#{alerteBean.rule1.nomUtilisateur}" />
						<p:outputLabel value="Type" />
						<p:inputText value="#{alerteBean.rule1.type}" />

						<p:commandButton value="Valider" styleClass="btn btn-primary"
							update="singleDT3,:form1:panajoutRule"
							actionListener="#{alerteBean.modifierRarule()}"
							oncomplete="PF('dlg5').hide()" />
						<p:commandButton value="Annuler" styleClass="btn btn-danger"
							onclick="PF('dlg5').hide()" />
					</h:panelGrid>

				</p:outputPanel>
			</p:dialog>
			<p:dialog header="Ajout" widgetVar="dlg7" id="panajoutParam">
				<h:panelGrid columns="2">
					<p:outputLabel value="Fonction" />
					<p:inputText value="#{alerteBean.param.fonction}" />
					<p:outputLabel value="Seuil" />
					<p:inputText value="#{alerteBean.param.seuil}" />
					<p:commandButton value="Valider" styleClass="btn btn-primary"
						update="singleDT4,:form1:panajoutParam"
						actionListener="#{alerteBean.ajouterParam()}"
						oncomplete="PF('dlg7').hide()" />
					<p:commandButton value="Annuler" styleClass="btn btn-danger"
						onclick="PF('dlg7').hide()" />
				</h:panelGrid>


			</p:dialog>
			<p:dialog header="Modifier" widgetVar="dlg8" id="panModifParam">
				<p:outputPanel id="modifPos4" style="text-align:center;">

					<h:panelGrid columns="2">
						<p:outputLabel value="Fonction" />
						<p:inputText value="#{alerteBean.param1.fonction}" />
						<p:outputLabel value="Seuil" />
						<p:inputText value="#{alerteBean.param1.seuil}" />

						<p:commandButton value="Valider" styleClass="btn btn-primary"
							update="singleDT5,:form1:panajoutParam"
							actionListener="#{alerteBean.modifierParam()}"
							oncomplete="PF('dlg8').hide()" />
						<p:commandButton value="Annuler" styleClass="btn btn-danger"
							onclick="PF('dlg8').hide()" />
					</h:panelGrid>

				</p:outputPanel>
			</p:dialog>
			<p:dialog header="Ajout" widgetVar="dlg9" id="panajoutRep">
				<h:panelGrid columns="2">
					<p:outputLabel value="ID Rapport" />
					<p:inputText value="#{alerteBean.rep.idReport}" />
					<p:outputLabel value="ID Rule" />
					<p:inputText value="#{alerteBean.rep.idRule}" />
					<p:commandButton value="Valider" styleClass="btn btn-primary"
						update="singleDT5,:form1:panajoutRep"
						actionListener="#{alerteBean.ajouterReport()}"
						oncomplete="PF('dlg9').hide()" />
					<p:commandButton value="Annuler" styleClass="btn btn-danger"
						onclick="PF('dlg9').hide()" />
				</h:panelGrid>


			</p:dialog>
			<p:dialog header="Modifier" widgetVar="dlg10" id="panModifRep">
				<p:outputPanel id="modifPos5" style="text-align:center;">

					<h:panelGrid columns="2">
						<p:outputLabel value="ID Rapport" />
						<p:inputText value="#{alerteBean.rep1.idReport}" />
						<p:outputLabel value="ID Rule" />
						<p:inputText value="#{alerteBean.rep1.idRule}" />

						<p:commandButton value="Valider" styleClass="btn btn-primary"
							update="singleDT5,:form1:panajoutRep"
							actionListener="#{alerteBean.modifierRep()}"
							oncomplete="PF('dlg10').hide()" />
						<p:commandButton value="Annuler" styleClass="btn btn-danger"
							onclick="PF('dlg10').hide()" />
					</h:panelGrid>

				</p:outputPanel>
			</p:dialog>

		</h:form>
	</ui:define>
</ui:composition>